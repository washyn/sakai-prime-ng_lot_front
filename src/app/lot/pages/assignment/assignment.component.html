<div class="mb-3 flex align-items-start flex-column lg:justify-content-between lg:flex-row">
    <div>
        <div class="font-medium text-3xl text-700">
            Comisiones
        </div>
    </div>
    <div class="mt-3 lg:mt-0">
        <button
            pButton
            pRipple
            (click)="createComisionModal()"
            label="Registrar comisión"
            icon="pi pi-plus"
            class="p-button-outlined mr-2"
        ></button>
    </div>
</div>

<div class="grid">
    <div class="col-6" *ngFor="let item of comisiones.items">
        <div class="surface-card p-3 shadow-1 border-round mb-3" >
            <div
                class="mb-3 flex align-items-start flex-column lg:justify-content-between lg:flex-row"
            >
                <div>
                    <div class="font-medium text-3xl text-700">
                        Comision: {{item.nombre}}
                    </div>
                </div>
                <div class="mt-3 lg:mt-0">
                    <button
                        pButton
                        pRipple
                        label="Agregar docente"
                        (click)="loadModalAdd(item)"
                        icon="pi pi-plus"
                        class="p-button-outlined mr-2"
                    ></button>
                </div>
            </div>

            <!--    <form [formGroup]="formFilter" class="grid formgrid p-fluid">-->
            <!--        <div class="field col-12">-->
            <!--            <span class="p-input-icon-left">-->
            <!--                <i class="pi pi-search"></i>-->
            <!--                <input-->
            <!--                    type="text"-->
            <!--                    pInputText-->
            <!--                    autofocus-->
            <!--                    class="p-inputtext-sm"-->
            <!--                    formControlName="filter"-->
            <!--                    placeholder="Buscar por nombre"-->
            <!--                />-->
            <!--            </span>-->
            <!--        </div>-->
            <!--    </form>-->

            <!--    <p-table-->
            <!--        [lazy]="true"-->
            <!--        [value]="data.items"-->
            <!--        (onLazyLoad)="tableLazyLoad($event)"-->
            <!--        [totalRecords]="data.totalCount"-->
            <!--        [paginator]="true"-->
            <!--        [rows]="this.tableFilterModel.maxResultCount"-->
            <!--        [tableStyle]="{ 'min-width': '50rem' }"-->
            <!--    >-->
            <!--        <ng-template pTemplate="header">-->
            <!--            <tr>-->
            <!--                <th>DNI</th>-->
            <!--                <th>Apellidos y nombres</th>-->
            <!--                <th>Genero</th>-->
            <!--                <th>Grado</th>-->
            <!--                <th>Area</th>-->
            <!--                <th>Opciones</th>-->
            <!--            </tr>-->
            <!--        </ng-template>-->
            <!--        <ng-template pTemplate="body" let-item>-->
            <!--            <tr>-->
            <!--                <td>-->
            <!--                    {{ item.dni }}-->
            <!--                </td>-->
            <!--                <td>-->
            <!--                    {{-->
            <!--                        item.gradoPrefix +-->
            <!--                        " " +-->
            <!--                        item.nombre +-->
            <!--                        " " +-->
            <!--                        item.apellidoPaterno +-->
            <!--                        " " +-->
            <!--                        item.apellidoMaterno-->
            <!--                    }}-->
            <!--                </td>-->
            <!--                <td>-->
            <!--                    {{ item.genero | appGender }}-->
            <!--                </td>-->
            <!--                <td>-->
            <!--                    {{ item.gradoName }}-->
            <!--                </td>-->
            <!--                <td>-->
            <!--                    {{ item.area | appArea }}-->
            <!--                </td>-->
            <!--                <td class="p-1">-->
            <!--                    <div class="flex">-->
            <!--                        <p-button-->
            <!--                            icon="pi pi-pencil"-->
            <!--                            severity="warning"-->
            <!--                            class=""-->
            <!--                            [outlined]="true"-->
            <!--                            (onClick)="editModal(item.id)"-->
            <!--                        ></p-button>-->
            <!--                        <p-button-->
            <!--                            icon="pi pi-trash"-->
            <!--                            severity="danger"-->
            <!--                            class="ml-2"-->
            <!--                            [outlined]="true"-->
            <!--                            (onClick)="delete(item.id)"-->
            <!--                        ></p-button>-->
            <!--                    </div>-->
            <!--                </td>-->
            <!--            </tr>-->
            <!--        </ng-template>-->
            <!--    </p-table>-->
        </div>
    </div>


</div>

<p-dialog
    [(visible)]="modalComision"
    [style]="{ width: '600px' }"
    header="Registrar nueva comisión"
    [modal]="true"
    [draggable]="false"
    [resizable]="false"
>
    <ng-template pTemplate="content">
        <form
            class="grid formgrid p-fluid"
            [formGroup]="formComision"
            (ngSubmit)="saveFormComision()"
        >
            <div class="field col-12">
                <label class="font-medium text-700">Nombre comisión *</label>
                <input
                    class="p-inputtext-sm"
                    pInputText
                    type="text"
                    formControlName="nombre"
                />
            </div>
        </form>
    </ng-template>

    <ng-template pTemplate="footer">
        <button
            pButton
            pRipple
            label="Cancelar"
            icon="pi pi-times"
            class="p-button-text"
            (click)="modalComision = false"
        ></button>
        <button
            pButton
            pRipple
            label="Guardar"
            icon="pi pi-check"
            class="p-button-text"
            (click)="saveFormComision()"
        ></button>
    </ng-template>
</p-dialog>


<p-dialog
    [(visible)]="modalAgregarDocente"
    [style]="{ width: '700px' }"
    header="Agregar docente"
    [modal]="true"
    [draggable]="false"
    [resizable]="false">

    <ng-template pTemplate="content">
<!--        load local all-->
<!--        <app-registration-list></app-registration-list>-->

<!--        [(selection)]="selectedProducts"-->
        <p-table
            [value]="docentesModalData"
            [(selection)]="selectedDocente"

            dataKey="id"
            [tableStyle]="{'min-width': '50rem'}">
            <ng-template pTemplate="header">
                <tr>
                    <th style="width: 4rem"><p-tableHeaderCheckbox /></th>
                    <th>Nombres y apellidos</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-docente>
                <tr>
                    <td>
                        <p-tableCheckbox [value]="docente" />
                    </td>
                    <td>{{docente.fullName}}</td>
                </tr>
            </ng-template>
        </p-table>

    </ng-template>

    <ng-template pTemplate="footer">
        <button
            pButton
            pRipple
            label="Cancelar"
            icon="pi pi-times"
            class="p-button-text"
            (click)="modalAgregarDocente = false"
        ></button>
        <button
            pButton
            pRipple
            label="Agregar a comision"
            (click)="resultSelected()"
            icon="pi pi-check"
            class="p-button-text"
        ></button>
    </ng-template>
</p-dialog>
